"0","# Code originally written by Hilary Killam (script to clean Qualtrics LEQ output)"
"0","# Function for swapping elements in a string for later efficient renaming"
"0","str_swap <- function(string, str1, str2) {"
"0","  if (str_detect(string, str1, negate = TRUE) | str_detect(string, str2, negate = TRUE)) {"
"0","    stop(""str1 and str2 (the two pieces to be swapped) must both appear in the full string"")"
"0","  }"
"0","  str1 <- as.character(str1)"
"0","  str2 <- as.character(str2)"
"0","  str1pos <- str_locate(string, str1)"
"0","  str2pos <- str_locate(string, str2)"
"0","  "
"0","  if (str1pos[1] > str2pos[1]) {"
"0","    str1temp <- str1"
"0","    str1 <- str2"
"0","    str2 <- str1temp"
"0","    str1pos <- str_locate(string, str1)"
"0","    str2pos <- str_locate(string, str2)"
"0","  }"
"0","  string <- paste0(str_sub(string, 1L, str1pos[1]-1), str2, str_sub(string, str1pos[2]+1, str2pos[1]-1), str1, str_sub(string, str2pos[2]+1, str_length(string)))"
"0","  return(string)"
"0","}"
"0",""
"0","#vectorize the function so it works across multiple inputs"
"0","str_swap <- Vectorize(str_swap)"
